<mdb-navbar SideClass="navbar fixed-top navbar-expand-lg navbar-light white scrolling-navbar"
    [containerInside]="false" *ngIf="systemIsAvailable">
    <!-- Navbar brand -->
      <a class="navbar-brand ml-2" mdbWavesEffect href="https://mdbootstrap.com/docs/jquery/" target="_blank">
        <strong class="blue-text">HM</strong>
      </a>
      <!-- Links -->
      <links>
        <!-- Left -->
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <div class="dropdown" mdbDropdown>
              <a mdbDropdownToggle color="primary" class="dropdown-toggle nav-link waves-light"
                mdbWavesEffect>{{ currentSystem.name }}
              </a>
              <div class="dropdown-menu dropdown-primary" *ngIf="systems">
                <a class="dropdown-item"  *ngFor="let system of systems" [ngClass]="{'d-none': system.id === currentSystem.id}"
                routerLink="system/{{system.id}}" (click)="reload(system.id)">
                 {{ system.name }}
                </a> 
                <a class="dropdown-item" (click)="frame.show()" data-target="#basicExample">
                  Add system
                </a>
              </div>
            </div>
          </li>
        </ul>

        <!-- Right -->
        <ul class="navbar-nav nav-flex-icons">
          <li class="nav-item">
            <a href="#"
              class="nav-link border border-light rounded waves-effect" target="_blank">
              <i class="fab fa-user-alt mr-2" mdbIcon></i>Logout
            </a>
          </li>
        </ul>
      </links>
  </mdb-navbar>
  <!--/.Navbar-->


<div mdbModal #frame="mdbModal" class="modal fade left" id="frameModalTop" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Add new system</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frame.hide()" #closeBtn>
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <form [formGroup]="addSystemForm" (ngSubmit)="onSubmit()">
            <div class="form-group mb-4">
              <!-- Name -->
              <label class="form-label">System Name</label>
              <input formControlName="name" type="text" id="systemName" class="grey lighten-5 form-control" placeholder="System name"
              [ngClass]="{'is-invalid': submitted && addSystemForm.controls.name.errors}" [(ngModel)] = "newSystem.name">
              
              <div *ngIf="submitted && addSystemForm.controls.name.errors" class="invalid-feedback">
                <div *ngIf="addSystemForm.controls.name.errors.required">System Name is required</div>
              </div>               
            </div>

            <div class="form-group mb-4">
              <!-- Description -->
              <label class="form-label">System description</label>
              <textarea formControlName="description" type="text" id="systemDescription" class="grey lighten-5 form-control" placeholder="System description"
              [ngClass]="{'is-invalid': submitted && addSystemForm.controls.description.errors}" [(ngModel)] = "newSystem.description">
              </textarea>
              <div *ngIf="submitted && addSystemForm.controls.description.errors" class="invalid-feedback">
                <div *ngIf="addSystemForm.controls.description.errors.required">System description is required</div>
              </div>               
            </div>
            
          <div class="modal-footer d-flex justify-content-right">
            <button mdbBtn color="default" class="waves-light" size="sm" mdbWavesEffect>Add</button>
          </div>
        </form>        
      </div>

    </div>
  </div>
</div>